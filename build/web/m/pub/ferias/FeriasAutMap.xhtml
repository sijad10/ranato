<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="/m/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pm="http://primefaces.org/mobile">    
    <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <ui:define name="body">
        
        <style>
            .txtContenido {
                font-size:80%!important; 
                vertical-align: middle;                
            }
            .headerSelected{border: 1px solid #1f89ce; width: 99%; }
            .text{padding-left: 10px; padding-right: 10px;}
            .datosMarker{padding-top: 5px;}
        </style>        
            <h:form id="buscarForm" >                
                <h:panelGrid columns="1" style="width: 100%">
                    <p:gmap center="#{oficinaPubController.obtenerMapCenterFeriasAutorizadas()}" zoom="6" type="ROADMAP" 
                            streetView="false" id="gmap" 
                            style="width: 100%; text-align: center;vertical-align: top; " widgetVar="gmap" model="#{oficinaPubController.modelMap}" >
                        <p:ajax event="overlaySelect" listener="#{oficinaPubController.onMarkerSelectFeria}"  />
                        
                        <p:gmapInfoWindow id="infoWindow">
                            <p:outputPanel style="text-align: center; display: block; margin: auto">
                                <h:outputText value="#{oficinaPubController.markerSelected.title}" style="font-weight: bold;" />
                            </p:outputPanel>
                            <br />
                            <p:outputPanel style="text-align: left; display: block; margin: auto">
                                <h:outputText value="#{oficinaPubController.markerSelected.data}" escape="false" />
                            </p:outputPanel>
                        </p:gmapInfoWindow>
                    </p:gmap>
                </h:panelGrid>                    
            </h:form>
            
        <script src="#{oficinaPubController.obtenerKeyGoogle()}" type="text/javascript"></script>
        <script type="text/javascript" src="#{oficinaPubController.obtenerApiGoogle()}"></script>
        <script type="text/javascript">            
            document.getElementById("buscarForm:gmap").style.height = ""+(window.innerHeight-10)+"px";
        </script>
    </ui:define>
</ui:composition>

