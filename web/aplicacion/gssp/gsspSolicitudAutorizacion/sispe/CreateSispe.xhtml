<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui" 
                xmlns:pe="http://primefaces.org/ui/extensions">
    
    <ui:define name="title">
        <b><h:outputText value="SERVICIO INDIVIDUAL DE SEGURIDAD PERSONAL - SISPE"/></b>
    </ui:define>
    
    <ui:define name="body">     
        
      <div class="ui-g">                        
        <div class="ui-g-12 ui-md-12 ui-lg-12">
                    
            <h:form id="FormSISPE">            
                
                <p:remoteCommand name="runLoadAutSolicAutorizacion" action="#{gsspSolicitudAutorizacionSISPEController.iniciarValores_SISPE()}" autoRun="true" />
                <p:remoteCommand name="runLoaDDJJ" action="#{gsspSolicitudAutorizacionSISPEController.onload_SISPE()}" autoRun="true" rendered="#{!gsspSolicitudAutorizacionSISPEController.termCondicionAceptaDDJJ}" />
                <p:defaultCommand target="botonGuardarSISPE" />
                    
                <div class="ui-fluid">
                    
                    <p:panel id="pnl_AdministradoPJ" header="Datos del Administrado - Persona JurÃ­dica" rendered="#{gsspSolicitudAutorizacionSISPEController.tipoAdministradoUsuario eq 'PersonaJuridica'}" >
                        
                        <div class="ui-g">
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tabl_AutoServSeg_lbl_DatAdministrado_PJ_RzonSocial}"  />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-6">
                                <p:inputText id="txtPJRzonSocial" value="#{gsspSolicitudAutorizacionSISPEController.administRazonSocial}" style="font-weight: bold;" disabled="true" />
                            </div>                                                
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                              <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tabl_AutoServSeg_lbl_DatAdministrado_PJ_RUC}"  />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                              <p:inputText id="txtPJRuc" value="#{gsspSolicitudAutorizacionSISPEController.administRUC}" disabled="true" style="font-weight: bold;" />
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    
                    <p:panel id="pnl_AdministradoPN" header="Datos del Administrado - Persona Natural" rendered="#{gsspSolicitudAutorizacionSISPEController.tipoAdministradoUsuario eq 'PersonaNatural'}" >
                        
                        <div class="ui-g">
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-1">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tabl_AutoServSeg_lbl_DatAdministrado_PN_Nombre}"/>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-5">
                                <p:inputText id="txtPNNombres" value="#{gsspSolicitudAutorizacionSISPEController.administNombres}" style="font-weight: bold;" disabled="true"  />
                            </div>                                                
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-1">
                              <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tabl_AutoServSeg_lbl_DatAdministrado_PN_TipDoc}"/>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                              <p:inputText id="txtPNTipDoc" value="#{gsspSolicitudAutorizacionSISPEController.administTipDoc}" style="font-weight: bold;" disabled="true" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-1">
                              <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tabl_AutoServSeg_lbl_DatAdministrado_PN_NumDoc}" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                              <p:inputText id="txtPNNumDoc" value="#{gsspSolicitudAutorizacionSISPEController.administNumDoc}" style="font-weight: bold;" disabled="true"  />
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    
                    <p:panel id="pnlDatosModalidad" header="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab2_AutoServSeg_title_DatModalidad}" >
                        
                        <div class="ui-g">
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-1">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab2_AutoServSeg_lbl_DatModalidad_TipServ} *"  />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-5">
                                <p:selectOneMenu id="bcoTipServicio"  value="#{gsspSolicitudAutorizacionSISPEController.regTipoSeguridadSelected }" disabled="true" >   
                                    <f:selectItem itemLabel="---" itemValue="#{null}"/>
                                    <f:selectItems var="item" itemValue="#{item}" itemLabel="#{item.nombre}" value="#{gsspSolicitudAutorizacionSISPEController.regTipoSeguridadList}"/>                                    
                                </p:selectOneMenu>
                            </div>
             
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-1">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab2_AutoServSeg_lbl_DatModalidad_ServPrestaod} *"/>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-5">
                                <p:selectOneMenu id="cboServPrestado"  value="#{gsspSolicitudAutorizacionSISPEController.regServicioPrestadoSelected }" >   
                                    <f:selectItem itemLabel="---" itemValue="#{null}"/>
                                    <f:selectItems var="item" itemValue="#{item}" itemLabel="#{item.nombre}" value="#{gsspSolicitudAutorizacionSISPEController.regServicioPrestadoList}"/>
                                </p:selectOneMenu>
                            </div>
                            
                     
                      
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    <p:panel id="pnl_MediosContacto" header="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_lbl_LPS_Titulo_03}" >
                        
                        <div class="ui-g">   
                        
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_lbl_LPS_Prioridad} *" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:selectOneMenu id="cboLPE_Alm_Prioridad"  value="#{gsspSolicitudAutorizacionSISPEController.regPrioridadLPSSelected }" >   
                                    <f:selectItem itemLabel="---" itemValue="#{null}"/>
                                    <f:selectItems var="item" itemValue="#{item}" itemLabel="#{item.nombre}" value="#{gsspSolicitudAutorizacionSISPEController.regPrioridadLPSList}"/>
                                </p:selectOneMenu>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_lbl_LPS_MedioContacto} *" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:selectOneMenu id="cboLPE_Alm_MedioContacto"  value="#{gsspSolicitudAutorizacionSISPEController.regTipoMedioContactoLPSSelected }" >   
                                    <f:selectItem itemLabel="---" itemValue="#{null}"/>
                                    <f:selectItems var="item" itemValue="#{item}" itemLabel="#{item.nombre}" value="#{gsspSolicitudAutorizacionSISPEController.regTipoMedioContactoLPSList}"/>
                                </p:selectOneMenu>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:inputText id="txtLPE_Alm_DescripMedioContacto" value="#{gsspSolicitudAutorizacionSISPEController.regtextoContactoLPS }" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                               <p:commandButton id="btnLPE_AgregarTipoContacto"
                                     icon="ui-icon-disk"                                      
                                     action="#{gsspSolicitudAutorizacionSISPEController.agregarTipoContacto()}"
                                     value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_btn_LPS_titulo_Agregar}"
                                     ajax="true"
                                     update="@this, pnl_MediosContacto, dtResultadosMedioContactos" 
                                     style="display: block; width: 120px; margin-left: 10px;"
                                />
                            </div>
                            
                        </div>
                        
                        <div class="ui-g">   
                        
                            <div class="ui-g-12 ui-md-12 ui-lg-12">
                               <p:dataTable id="dtResultadosMedioContactos"
                                     value="#{gsspSolicitudAutorizacionSISPEController.lstContactos}"
                                     var="itemRegContacto"
                                     rowKey="#{itemRegContacto.ID}"
                                     selection="#{gsspSolicitudAutorizacionSISPEController.selectedContacto}"
                                     emptyMessage="#{BundleBDIntegrado.MensajeNoResultados}"
                                     paginator="false" rows="#{BundleBDIntegrado.PaginatorFilas}"
                                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} 
                                     {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} 
                                     {RowsPerPageDropdown}"
                                     currentPageReportTemplate="Total {totalRecords} registro(s)"
                                     rowsPerPageTemplate="#{BundleBDIntegrado.PaginatorFilasPorPagina}">
                                
                                    <p:column headerText="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_tbl_LPS_MedioContacto_ID}" style="text-align: center;" >
                                        <h:outputText value="#{itemRegContacto.id}" />
                                    </p:column>
                                    <p:column headerText="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_tbl_LPS_MedioContacto_Prioridad}" style="text-align: center;" >
                                        <h:outputText value="#{(itemRegContacto.valor eq '290'?'PRINCIPAL':'SECUNDARIO')}" />
                                    </p:column>
                                    <p:column headerText="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_tbl_LPS_MedioContacto_Contacto}" style="text-align: center;" >
                                        <h:outputText value="#{itemRegContacto.tipoMedioId.nombre}" />
                                    </p:column>
                                    <p:column headerText="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_tbl_LPS_MedioContacto_Descripcion}" style="text-align: center;" >
                                        <h:outputText value="#{itemRegContacto.descripcion}" />
                                    </p:column>
                                    <p:column headerText="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_tab5_AutoServSeg_tbl_LPS_MedioContacto_Borrar}" style="text-align: center;" >

                                        <p:commandButton 
                                            immediate="true" 
                                            update="@this, dtResultadosMedioContactos" 
                                            icon="ui-icon-trash"
                                            value="Borrar"
                                            actionListener="#{gsspSolicitudAutorizacionSISPEController.deleteContacto(itemRegContacto.id)}" >
                                        </p:commandButton>
                                        
                                        
                                    </p:column>
                                </p:dataTable>
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    
                    <p:panel id="pnl_Fotografia" header="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelFotografia_LBL_Titulo}"  >
                        
                        <div class="ui-g">   
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelFotografia_LBL_AdjFoto} *" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-4">
                                <p:fileUpload id="idFoto" label="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_agregarFoto}"
                                              invalidFileMessage="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_fileUploadFoto_InvalidFileMessage}"
                                              fileUploadListener="#{gsspSolicitudAutorizacionSISPEController.handleFileUploadFoto}"
                                              invalidSizeMessage="#{gsspSolicitudAutorizacionSISPEController.obtenerMsjeInvalidSizeFile_SelFotoPersSeguridad()}"
                                              sizeLimit="#{sbParametroController.obtenerParametroXNombre('selFotoPersSeguridadPrestaServ_sizeArchivo').valor}"
                                              onstart="PF('loadingDialog').show()"
                                              oncomplete="PF('loadingDialog').hide()"
                                              mode="advanced" dragDropSupport="false"
                                              multiple="false"                                              
                                              auto="true" process="@form" update="@form"
                                              allowTypes="/(\.|\/)(jpg|jpeg)$/" 
                                              immediate="true" 
                                              >
                                    <p:graphicImage value="#{gsspSolicitudAutorizacionSISPEController.archivoFOTO}" cache="false" width="150" height="200">
                                    </p:graphicImage>
                                </p:fileUpload>
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-4">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_msjeCaracteristicasFoto}" escape="false" />
                            </div>
                            
                        </div>
                        
                        <div class="ui-g">   
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                                &nbsp;
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-4">
                                <p:outputLabel value="#{gsspSolicitudAutorizacionSISPEController.obtenerMsjeFoto()}" style="color:red;" />
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    <p:panel id="pnl_CertFisicoMental" header="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCertFiscoMntal_LBL_Titulo}"  >                    
                        
                        <div class="ui-g">  
                        
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCertFiscoMntal_lbl_Text_CertFiscoMntal} *" />
                            </div>
                        
                            <div class="ui-g-12 ui-md-12 ui-lg-4">
                                <p:fileUpload id="txf_ArchivoCertFiscoMntal" label="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCertFiscoMntal_btn_File_AdjPDF}"
                                              invalidFileMessage="#{BundleBDIntegrado.msjeValidacionFormato_PDF}"
                                              fileUploadListener="#{gsspSolicitudAutorizacionSISPEController.handleFileUploadPDF_CertFiscoMntal}"
                                              invalidSizeMessage="#{gsspSolicitudAutorizacionSISPEController.obtenerMsjeInvalidSizeFile_SelCertSaludFisicoMental()}"
                                              sizeLimit="#{sbParametroController.obtenerParametroXNombre('selCertSaludFisicoMentalaPrestaServ_sizeArchivo').valor}"
                                              onstart="PF('loadingDialog').show()"
                                              oncomplete="PF('loadingDialog').hide()"
                                              mode="advanced" dragDropSupport="false"
                                              multiple="false"
                                              fileLimit="1"
                                              auto="true" process="@this,pnl_CertFisicoMental" update="@this,pnl_CertFisicoMental"
                                              allowTypes="/(\.|\/)(pdf|PDF)$/" immediate="true" 
                                              >
                                        <h:outputText value="#{gsspSolicitudAutorizacionSISPEController.nomArchivoCertFiscoMntal }" />
                                    </p:fileUpload>
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    
                    <p:panel id="pnl_CopiaContrato" header="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCopyContrato_LBL_Titulo}"  >                    
                        
                        <div class="ui-g">  
                        
                            <div class="ui-g-12 ui-md-12 ui-lg-2">
                                <p:outputLabel value="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCopyContrato_lbl_Text_Contrato} *" />
                            </div>
                            
                            <div class="ui-g-12 ui-md-12 ui-lg-4">
                                <p:fileUpload id="txf_ArchivoCopiaContrato" label="#{BundleBDIntegrado.gsspSolicitudAutorizacion_Form_PanelCopyContrato_btn_File_AdjPDF}"
                                          invalidFileMessage="#{BundleBDIntegrado.msjeValidacionFormato_PDF}"
                                          fileUploadListener="#{gsspSolicitudAutorizacionSISPEController.handleFileUploadPDF_CopyContrato}"
                                          invalidSizeMessage="#{gsspSolicitudAutorizacionSISPEController.obtenerMsjeInvalidSizeFile_SelCopiaContrato()}"
                                          sizeLimit="#{sbParametroController.obtenerParametroXNombre('selCopiaContratoPrestaServ_sizeArchivo').valor}"
                                          onstart="PF('loadingDialog').show()"
                                          oncomplete="PF('loadingDialog').hide()"
                                          mode="advanced" dragDropSupport="false"
                                          multiple="false"
                                          fileLimit="1"
                                          auto="true" process="@this,pnl_CopiaContrato" update="@this,pnl_CopiaContrato"
                                          allowTypes="/(\.|\/)(pdf|PDF)$/" immediate="true" 
                                          >
                                    <h:outputText value="#{gsspSolicitudAutorizacionSISPEController.nomArchivoCopyContrato }" />
                                </p:fileUpload>
                            </div>
                            
                        </div>
                        
                    </p:panel>
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/>
                        </div>
                    </div>
                    
                    
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-4">
                            &nbsp;
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-2">
                            <p:commandButton id="botonGuardarSISPE" value="REGISTRAR" 
                                             action="#{gsspSolicitudAutorizacionSISPEController.btnRegistrarSISPE()}" 
                                             ajax="true" icon="ui-icon-disk" iconPos="left"
                                             update="@this, pnl_AdministradoPJ, pnl_AdministradoPN, pnlDatosModalidad, pnl_MediosContacto, pnl_Fotografia, pnl_CertFisicoMental, pnl_CopiaContrato"  
                                             process="@this, pnl_AdministradoPJ, pnl_AdministradoPN, pnlDatosModalidad, pnl_MediosContacto, pnl_Fotografia, pnl_CertFisicoMental, pnl_CopiaContrato"  />
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-2">
                            <p:commandButton id="btnCancelarSISPE" value="CANCELAR" 
                                             action="#{gsspSolicitudAutorizacionSISPEController.btnCancelarSISPE()}"
                                             icon="ui-icon-closethick"  update="@all" process="@all" iconPos="left" styleClass="botonBorrar"/>
                        </div>
                        <div class="ui-g-12 ui-md-12 ui-lg-4">
                            &nbsp;
                        </div>
                    </div>
                    
         
                    <div class="ui-g">                        
                        <div class="ui-g-12 ui-md-12 ui-lg-12">
                            <BR/><BR/>
                        </div>
                    </div>
                    
                    
                </div>
                
            </h:form>
        
        </div>          
      </div>
            
        <ui:include src="dlgDeclaracionJuradaSISPE.xhtml" />
            
    </ui:define>
            

</ui:composition>