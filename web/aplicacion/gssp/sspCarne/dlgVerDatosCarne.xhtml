<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <p:dialog id="dlgVerDatosCarne" widgetVar="wvDlgVerDatosCarne" width="850px" 
              modal="true" resizable="false" appendTo="@(body)" 
              header="Datos del carnÃ©" closable="false">
        <h:form id="frmVerDatosCarne">
            <h:panelGrid columns="2" style="width: 100%;" >
                <h:panelGrid columns="1" style="width: 100%;">
                    <p:panel header="#{BundleBDIntegrado.sspCarne_create_datosAdministrado}" id="pnlAdministrado" >
                        <h:panelGrid columns="4" >
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_dondeRecoger}" style="font-weight: bold; display: block; width: 110px;"  />    
                            <p:outputLabel value="#{sspCarneController.obtenerDescDondeRecoger(sspCarneController.registro.sedeSucamec)}"  />
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_modalidad}" style="font-weight: bold;margin-left: 15px;" />
                            <p:outputLabel value="#{sspCarneController.registro.carneId.modalidadId.nombre}"  />

                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_tipoReg}" style="font-weight: bold; display: block; width: 110px;"  />    
                            <p:outputLabel value="#{sspCarneController.registro.tipoRegId.nombre}" />
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_tipoOpe}" style="font-weight: bold;margin-left: 15px;" />
                            <p:outputLabel value="#{sspCarneController.registro.tipoOpeId.nombre }" />
                        </h:panelGrid>
                    </p:panel>
                    <p:panel header="#{BundleBDIntegrado.sspCarne_create_datosCarne}" id="pnlCarne" rendered="#{sspCarneController.registro.carneId.nroCarne > 0}" >
                        <h:panelGrid columns="2" >
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_nroCarne} *" style="font-weight: bold; display: block; width: 110px;"  />
                            <p:outputLabel value="#{sspCarneController.registro.carneId.nroCarne}" />
                        </h:panelGrid>
                    </p:panel>
                    <p:panel header="#{BundleBDIntegrado.sspCarne_create_datosVigilante}" id="pnlDatosProspecto" >
                        <h:panelGrid columns="4" >
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_tipoDoc}" style="font-weight: bold;display: block; width: 120px;" />
                            <p:outputLabel value="#{sspCarneController.tipoDocSelected.nombre}" />
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_documento}" style="font-weight: bold;margin-left: 15px;" />
                            <p:outputLabel value="#{sspCarneController.numDoc}"  />
                            
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_nombres}" style="font-weight: bold;display: block; width: 120px;" />
                            <p:outputLabel value="#{sspCarneController.nombres}" id="nombres" />
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_apePat}" style="font-weight: bold;margin-left: 15px;" />
                            <p:outputLabel value="#{sspCarneController.apePat}" id="apePat"  />
                            
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_apeMat}" style="font-weight: bold;display: block; width: 120px;" />
                            <p:outputLabel value="#{sspCarneController.apeMat}" id="apeMat"  />
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_fechaNac}" style="font-weight: bold;margin-left: 15px;" rendered="#{sspCarneController.tipoDocSelected.codProg eq 'TP_DOCID_CE'}" />
                            <p:outputLabel value="#{sspCarneController.fechaNac }"  rendered="#{sspCarneController.tipoDocSelected.codProg eq 'TP_DOCID_CE'}" >
                                <f:convertDateTime pattern="#{BundleBDIntegrado.FormatoFecha}" />
                            </p:outputLabel>
                        </h:panelGrid>                            
                    </p:panel>
                    <p:panel header="#{BundleBDIntegrado.sspCarne_create_requisitos}" id="pnlRequisitos" >
                        <h:panelGrid columns="2" >
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_comprobante}" style="font-weight: bold;display: block; width: 120px;" rendered="#{sspCarneController.registro.comprobanteId ne null}" />
                            <p:outputLabel value="#{sspCarneController.obtenerComprobanteSeleccionadoVer(sspCarneController.registro.comprobanteId)}" rendered="#{sspCarneController.registro.comprobanteId ne null}" />
                            
                            <p:outputLabel value="#{BundleBDIntegrado.sspCarne_create_adjuntarDJ}" style="font-weight: bold;display: block; width: 120px;" />
                            <p:commandButton  icon="ui-icon-document"
                                            ajax="false"                                                
                                            value="#{sspCarneController.archivoVerDuplicado}"
                                            rendered="#{sspCarneController.archivoVerDuplicado ne null}"
                                            process="@all"
                                            onclick="this.form.target = '_blank'"
                                            onblur="this.form.target = '_self'"
                                            immediate="true" >
                                  <p:fileDownload value="#{sspCarneController.cargarDocumento()}" contentDisposition="inline"  />
                            </p:commandButton>
                        </h:panelGrid>
                    </p:panel>
                </h:panelGrid>
                <p:panel header="Foto" id="pnlFoto" >
                    <p:graphicImage value="#{sspCarneController.foto}" cache="false" width="150" height="200">
                    </p:graphicImage>
                </p:panel>
            </h:panelGrid>
            <div align="right">
                <p:commandButton value="#{BundleBDIntegrado.Salir}" 
                                 style="float: right"
                                 icon="ui-icon-arrowthick-1-w"
                                 process="@this"
                                 update="frmVerDatosCarne" 
                                 actionListener="#"
                                 oncomplete="PF('wvDlgVerDatosCarne').hide()" />
            </div>
        </h:form>
    </p:dialog>
</html>